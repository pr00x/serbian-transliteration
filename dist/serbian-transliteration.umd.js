!function(i,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(i="undefined"!=typeof globalThis?globalThis:i||self).SerbianTransliteration=e()}(this,(function(){"use strict";class i{static handleDigraphExceptions(i){let e=i;for(const[i,d]of Object.entries(this.digraphExceptionPatterns))for(const g of d)e=e.replace(g,(e=>e.replace(new RegExp(i,"g"),i[0]+this.ZWNJ+i[1])));return e}static toLatin(i){var e;if(!i)return"";let d="";for(const g of i)d+=null!==(e=this.cyrillic2LatinMap[g])&&void 0!==e?e:g;return d}static toCyrillic(i,e){var d,g,j,n,o,r,t;if(!i)return"";const a={caseSensitive:null!==(g=null===(d=null==e?void 0:e.skip)||void 0===d?void 0:d.caseSensitive)&&void 0!==g?g:this.default2CyrillicOptions.skip.caseSensitive,words:null!==(n=null===(j=null==e?void 0:e.skip)||void 0===j?void 0:j.words)&&void 0!==n?n:this.default2CyrillicOptions.skip.words,markers:null!==(r=null===(o=null==e?void 0:e.skip)||void 0===o?void 0:o.markers)&&void 0!==r?r:this.default2CyrillicOptions.skip.markers},l=Array.isArray(a.markers)&&2===a.markers.length,s=Array.isArray(a.words)&&a.words.length>0,p=a.caseSensitive?"g":"gi";let u=i;if(l&&a.markers[0]===a.markers[1])throw new Error("The opening and closing markers cannot be the same.");const c=i=>i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),v=[];if(l){const[i,e]=a.markers,d=new RegExp(c(i)+"(.*?)"+c(e),p);let g=0;u=u.replace(d,((i,e)=>(v.push(e),`${this.SKIP_PREFIX}MARKER_${g++}__`)))}const h=[];u=u.replace(/\b\w+\b/g,(i=>(i=>/[qwyxQWYX]/.test(i))(i)?(h.push(i),`${this.SKIP_PREFIX}WORD_${h.length-1}__`):i)),s&&a.words.forEach((i=>{const e=new RegExp(`(^|[^\\p{L}\\p{N}_])(${c(i)})(?=[^\\p{L}\\p{N}_]|$)`,p+"u");u=u.replace(e,(i=>(h.push(i),`${this.SKIP_PREFIX}WORD_${h.length-1}__`)))}));let f=this.handleDigraphExceptions(u);for(const[i,e]of this.digraphRegexps)f=f.replace(i,e);let k="",b=0;for(;b<f.length;){if(f.indexOf(this.SKIP_PREFIX,b)===b){let i=f.indexOf("__",b+this.SKIP_PREFIX.length);-1!==i&&(i+=2,k+=f.slice(b,i),b=i)}else{const i=f[b];i!==this.ZWNJ&&(k+=null!==(t=this.latin2CyrillicMap[i])&&void 0!==t?t:i),b++}}if(f=k,v.length>0)for(let i=0;i<v.length;i++)f=f.replace(`${this.SKIP_PREFIX}MARKER_${i}__`,v[i]);if(h.length>0)for(let i=0;i<h.length;i++)f=f.replace(`${this.SKIP_PREFIX}WORD_${i}__`,h[i]);return f.replace(new RegExp(this.ZWNJ,"g"),"")}static countCyrillicAndLatinLetters(i){let e=0,d=0;for(const g of i)void 0!==this.cyrillic2LatinMap[g]?e++:void 0!==this.latin2CyrillicMap[g]&&d++;return{cyrillic:e,latin:d}}static isCyrillic(i){if(!i)return!1;const e=this.countCyrillicAndLatinLetters(i);return e.cyrillic>e.latin}static isLatin(i){if(!i)return!1;const e=this.countCyrillicAndLatinLetters(i);return e.latin>e.cyrillic}static autoTransliterate(i){return i?this.isCyrillic(i)?this.toLatin(i):this.isLatin(i)?this.toCyrillic(i):i:""}}return i.cyrillic2LatinMap={"а":"a","б":"b","в":"v","г":"g","д":"d","ђ":"đ","е":"e","ж":"ž","з":"z","и":"i","ј":"j","к":"k","л":"l","љ":"lj","м":"m","н":"n","њ":"nj","о":"o","п":"p","р":"r","с":"s","т":"t","ћ":"ć","у":"u","ф":"f","х":"h","ц":"c","ч":"č","џ":"dž","ш":"š","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Ђ":"Đ","Е":"E","Ж":"Ž","З":"Z","И":"I","Ј":"J","К":"K","Л":"L","Љ":"Lj","М":"M","Н":"N","Њ":"Nj","О":"O","П":"P","Р":"R","С":"S","Т":"T","Ћ":"Ć","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Č","Џ":"Dž","Ш":"Š"},i.latin2CyrillicMap={a:"а",b:"б",v:"в",g:"г",d:"д","đ":"ђ",e:"е","ž":"ж",z:"з",i:"и",j:"ј",k:"к",l:"л",m:"м",n:"н",o:"о",p:"п",r:"р",s:"с",t:"т","ć":"ћ",u:"у",f:"ф",h:"х",c:"ц","č":"ч","š":"ш",A:"А",B:"Б",V:"В",G:"Г",D:"Д","Đ":"Ђ",E:"Е","Ž":"Ж",Z:"З",I:"И",J:"Ј",K:"К",L:"Л",M:"М",N:"Н",O:"О",P:"П",R:"Р",S:"С",T:"Т","Ć":"Ћ",U:"У",F:"Ф",H:"Х",C:"Ц","Č":"Ч","Š":"Ш"},i.digraphRegexps=[[/Lj/g,"Љ"],[/Nj/g,"Њ"],[/Dž/g,"Џ"],[/lj/g,"љ"],[/nj/g,"њ"],[/dž/g,"џ"]],i.digraphExceptionPatterns={dj:[/adjektiv/gi,/adjunkt/gi,/bazdje/gi,/bdje/gi,/bezdje/gi,/blijedje/gi,/bludje/gi,/bridjе/gi,/vidjel/gi,/vidjet/gi,/vindjakn/gi,/višenedje/gi,/vrijedje/gi,/gdje/gi,/gudje/gi,/gdjir/gi,/daždje/gi,/dvonedje/gi,/devetonedje/gi,/desetonedje/gi,/djb/gi,/djeva/gi,/djevi/gi,/djevo/gi,/djed/gi,/djejstv/gi,/djel/gi,/djenem/gi,/djeneš/gi,/djenu/gi,/djet/gi,/djec/gi,/dječ/gi,/djuar/gi,/djubison/gi,/djubouz/gi,/djuer/gi,/djui/gi,/djuks/gi,/djulej/gi,/djumars/gi,/djupont/gi,/djurant/gi,/djusenberi/gi,/djuharst/gi,/djuherst/gi,/dovdje/gi,/dogrdje/gi,/dodjel/gi,/drvodje/gi,/drugdje/gi,/elektrosnabdje/gi,/žudje/gi,/zabludje/gi,/zavidje/gi,/zavrijedje/gi,/zagudje/gi,/zadjev/gi,/zadjen/gi,/zalebdje/gi,/zaludje/gi,/zaodje/gi,/zapodje/gi,/zarudje/gi,/zasjedje/gi,/zasmrdje/gi,/zastidje/gi,/zaštedje/gi,/zdje/gi,/zlodje/gi,/igdje/gi,/izbledje/gi,/izblijedje/gi,/izvidje/gi,/izdjejst/gi,/izdjelj/gi,/izludje/gi,/isprdje/gi,/jednonedje/gi,/kojegdje/gi,/kudjelj/gi,/lebdje/gi,/ludjel/gi,/ludjet/gi,/makfadjen/gi,/marmadjuk/gi,/međudjel/gi,/nadjaha/gi,/nadjača/gi,/nadjeb/gi,/nadjev/gi,/nadjenul/gi,/nadjenuo/gi,/nadjenut/gi,/negdje/gi,/nedjel/gi,/nadjunač/gi,/nenadjača/gi,/nenavidje/gi,/neodje/gi,/nepodjarm/gi,/nerazdje/gi,/nigdje/gi,/obdjel/gi,/obnevidje/gi,/ovdje/gi,/odjav/gi,/odjah/gi,/odjaš/gi,/odjeb/gi,/odjev/gi,/odjed/gi,/odjezd/gi,/odjek/gi,/odjel/gi,/odjen/gi,/odjeć/gi,/odjec/gi,/odjur/gi,/odsjedje/gi,/ondje/gi,/opredje/gi,/osijedje/gi,/osmonedje/gi,/pardju/gi,/perdju/gi,/petonedje/gi,/poblijedje/gi,/povidje/gi,/pogdjegdje/gi,/pogdje/gi,/podjakn/gi,/podjamč/gi,/podjemč/gi,/podjar/gi,/podjeb/gi,/podjebrad/gi,/podjed/gi,/podjezič/gi,/podjel/gi,/podjen/gi,/podjet/gi,/pododjel/gi,/pozavidje/gi,/poludje/gi,/poljodjel/gi,/ponegdje/gi,/ponedjelj/gi,/porazdje/gi,/posijedje/gi,/posjedje/gi,/postidje/gi,/potpodjel/gi,/poštedje/gi,/pradjed/gi,/prdje/gi,/preblijedje/gi,/previdje/gi,/predvidje/gi,/predjel/gi,/preodjen/gi,/preraspodje/gi,/presjedje/gi,/pridjev/gi,/pridjen/gi,/prismrdje/gi,/prištedje/gi,/probdje/gi,/problijedje/gi,/prodjen/gi,/prolebdje/gi,/prosijedje/gi,/prosjedje/gi,/protivdjel/gi,/prošlonedje/gi,/razvidje/gi,/razdjev/gi,/razdjel/gi,/razodje/gi,/raspodje/gi,/rasprdje/gi,/remekdjel/gi,/rudjen/gi,/rudjet/gi,/sadje/gi,/svagdje/gi,/svidje/gi,/svugdje/gi,/sedmonedjelj/gi,/sijedje/gi,/sjedje/gi,/smrdje/gi,/snabdje/gi,/snovidje/gi,/starosjedje/gi,/stidje/gi,/studje/gi,/sudjel/gi,/tronedje/gi,/ublijedje/gi,/uvidje/gi,/udjel/gi,/udjen/gi,/uprdje/gi,/usidjel/gi,/usjedje/gi,/usmrdje/gi,/uštedje/gi,/cjelonedje/gi,/četvoronedje/gi,/čukundjed/gi,/šestonedjelj/gi,/štedje/gi,/štogdje/gi,/šukundjed/gi],"dž":[/feldžandarm/gi,/nadžanj/gi,/nadždrel/gi,/nadžel/gi,/nadžeo/gi,/nadžet/gi,/nadživ/gi,/nadžinj/gi,/nadžnj/gi,/nadžrec/gi,/nadžup/gi,/odžali/gi,/odžari/gi,/odžel/gi,/odžive/gi,/odživljava/gi,/odžubor/gi,/odžvaka/gi,/odžval/gi,/odžvać/gi,/podžanr/gi,/podžel/gi,/podže/gi,/podžig/gi,/podžiz/gi,/podžil/gi,/podžnje/gi,/podžupan/gi,/predželu/gi,/predživot/gi],nj:[/anjon/gi,/injaric/gi,/injekc/gi,/injekt/gi,/injicira/gi,/injurij/gi,/kenjon/gi,/konjug/gi,/konjunk/gi,/nekonjug/gi,/nekonjunk/gi,/ssrnj/gi,/tanjug/gi,/vanjezičk/gi]},i.ZWNJ="‌",i.SKIP_PREFIX="__SKIP__",i.default2CyrillicOptions={skip:{caseSensitive:!0,words:[],markers:["<skip>","</skip>"]}},i}));
